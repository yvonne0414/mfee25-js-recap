<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>array</title>
  </head>
  <body>
    <script>
      let animals = [
        { id: 'a1', en: 'cat', cn: '貓', num: 30 },
        { id: 'a2', en: 'dog', cn: '狗', num: 10 },
        { id: 'a3', en: 'rabbit', cn: '兔', num: 5 },
        { id: 'a4', en: 'bear', cn: '熊', num: 15 },
        { id: 'a5', en: 'mouse', cn: '鼠', num: 20 },
      ];
      console.log('原始陣列', animals);

      // 增加size
      animals = animals.map((animal, index) => {
        // return (animal = { ...animal, size: 'small' });
        return { ...animal, size: 'small' };
      });
      console.log('增加size', animals);

      // 修改bear size
      // type1: findindex
      // let bearIndex = animals.findIndex((animal, index) => {
      //   return animal.cn === '熊';
      // });
      // // console.log(bearIndex);
      // animals[bearIndex].size = 'large';

      // type2: map
      animals = animals.map((animal, index) => {
        if (animal.cn === '熊') {
          return { ...animal, size: 'large' };
        } else {
          return animal;
        }
      });
      console.log('修改bear size', animals);

      // 新增一筆資料在index=2後面
      let pig = { id: 'a35', en: 'pig', cn: '豬', num: 3, size: 'medium' };
      // 硬拆
      // let [cat, dog, rabbit, bear, mouse] = animals;
      // animals = [cat, dog, rabbit, pig, bear, mouse];
      // 先分在拆
      let lessThanIndex2 = animals.filter((animal, i) => {
        return i <= 2;
      });
      let MoreThanIndex2 = animals.filter((animal, i) => {
        return i > 2;
      });
      animals = [...lessThanIndex2, pig, ...MoreThanIndex2];
      console.log('新增pig', animals);

      // 找出 num <10 的動物中文
      let lessThanTen = animals.filter((animal, index) => {
        return animal.num < 10;
      });
      let animalNameCn = lessThanTen.map((animal, index) => {
        return animal.cn;
      });
      let resAnimal = animals.find((animal) => animal.num < 10).cn;
      console.log('num <10', animalNameCn);
      console.log('num <10', resAnimal);
    </script>
  </body>
</html>
